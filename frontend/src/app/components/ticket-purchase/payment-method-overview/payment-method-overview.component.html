<app-error-notification *ngIf="error" [error]="error"></app-error-notification>

<form [formGroup]="secondFormGroup" *ngIf="ticket && event && show">
  <div class="container">
    <!-- page title -->
    <div class="page-title">Zahlungsübersicht</div>
    <!-- details to Event and ticket -->
    <div class="container ticket-details">
      <div class="row">
        <h5 class="element-title">Veranstaltung: </h5>
        <p>{{event.name}}</p>
      </div>
      <div class="row">
        <h5 class="element-title">Künstler(in): </h5>
        <div *ngFor="let artist of event.artists">
          <p>{{artist.firstName}} {{artist.lastName}}</p>
        </div>
      </div>
      <div class="row">
        <h5 class="element-title">Aufführungszeitpunkt: </h5>
        <p>{{formatDate(show.startsAt)}}</p>
      </div>
      <div class="row">
        <h5 class="element-title">Veranstaltungsort: </h5>
        <p>{{show.eventLocationCopy.name}}</p>
      </div>
      <div class="row">
        <h5 class="element-title">Stadt:</h5>
        <p>{{show.eventLocationCopy.city}}</p>
      </div>
      <div class="row">
        <h5 class="element-title">Adresse:</h5>
        <p>{{show.eventLocationCopy.street}}, {{show.eventLocationCopy.plz}} {{show.eventLocationCopy.city}}, {{show.eventLocationCopy.country}}</p>
      </div>
      <div class="row" *ngIf="this.ticket.seat">
        <h5 class="element-title">Sitzplätze:</h5>
        <p>Platz {{this.ticket.seat.seatColumn}}{{this.ticket.seat.seatRow}}</p>
      </div>
    </div>
    <!-- payment title -->
    <div class="payment-method-title">
      Zahlungsmethode
    </div>

    <div class="container-fluid payment-method">
      <mat-select formControlName="paymentmethod" placeholder="Wähle Bezahlungsmethode" class="form-control payment-method-form" required>
        <mat-option [value]="'creditcard'">Kredit-/Debitkarte</mat-option>
        <mat-option [value]="'creditcard'">Paypal</mat-option>
      </mat-select>
    </div>
    <!--<button type="button" mat-button matStepperNext class="btn btn-success" (click)="completePurchase()">Jetzt zahlen</button>-->
    <div class="row button-row">
      <button matStepperNext class="buy-button row ml-auto align-items-center align-self-end" (click)="completePurchase()"><div class="col button-font">Jetzt zahlen</div></button>
    </div>

  </div>
</form>
