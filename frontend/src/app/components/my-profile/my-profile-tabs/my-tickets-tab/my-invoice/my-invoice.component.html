<div class="container">
  <div class="row" style="border-bottom: 2px solid #efefef; z-index: 0;">
    <h1 class="page-title" style="white-space: nowrap; padding-top: 50px; padding-left: 50px; padding-bottom: 26px; margin-bottom: 0px">Buchung</h1>
  </div>
  <div class="row" style="padding-left: 100px; padding-right: 100px">
    <div class="container" style="padding-top: 20px">
      <div class="password-button-wrapper">
        <ng-content></ng-content>
      </div>

      <div class="info-wrapper">
        <div class="info">
          <div class="info-label"></div>
          <div class="info-field">
            Event name: {{ticket.eventName}}
          </div>
        </div>
      </div>

      <div class="info-wrapper">
        <div class="info">
          <div class="info-label"></div>
          <div class="info-field">
            Seat id: {{ticket.seatId}}
          </div>
        </div>
      </div>

      <div class="info-wrapper">
        <div class="info">
          <div class="info-label"></div>
          <div class="info-field">
            Price: {{ticket.price}}
          </div>
        </div>
      </div>

      <div class="info-wrapper">
        <div class="info">
          <div class="info-label"></div>
          <div class="info-field">
            Show time: {{ticket.showTime | date:'short'}}
          </div>
        </div>
      </div>

        <div class="bottom-button-wrapper">
          <div class="edit-button-wrapper">
            <button *ngIf="ticket.purchased"
                    (click)="goToInvoice()"
                    id="userInfoForm_editButton"
                    class="btn btn-outline-primary"
                    style="white-space: nowrap; border-radius: 10px">
              Zur Rechnung
            </button>
            <button *ngIf="ticket.reserved"
                    type="button" class="btn btn-outline-primary"
                    style="white-space: nowrap; border-radius: 10px; width: 100px;; margin-right: 10px;"
                    data-toggle="modal" data-target="#purchase-modal">
              Kaufen
            </button>
          </div>

            <button id="userInfoForm_deleteButton" type="button"
                    class="btn btn-outline-danger" style="white-space: nowrap; border-radius: 10px" data-toggle="modal" data-target="#cancel-modal">
              Stornieren
            </button>

          <!-- Modal (Pop up when clicking cancel) -->
          <div class="modal fade" id="cancel-modal" role="dialog" aria-labelledby="cancel-modal-label" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="cancel-modal-label">
                    Stornierung ist nicht Ruckgängig. Bist du sicher, dass du diese Buchung stornieren möchtest? </h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn-secondary btn" data-dismiss="modal">Abbrechen</button>
                  <button type="button" class="btn-primary btn" data-dismiss="modal" (click)="cancelTicket(ticket.ticketCode)" > Ja
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Modal (Pop up when clicking cancel) -->
          <div class="modal fade" id="purchase-modal" role="dialog" aria-labelledby="purchase-modal-label" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="purchase-modal-label">
                    Bist du sicher, dass du diese Buchung kaufen möchtest? </h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn-secondary btn" data-dismiss="modal">Abbrechen</button>
                  <button type="button" class="btn-primary btn" data-dismiss="modal" (click)="purchaseTicket(ticket.ticketCode, ticket)" > Ja
                  </button>
                </div>
              </div>
            </div>
          </div>

        </div>

    </div>
  </div>
</div>



